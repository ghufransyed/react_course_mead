{"version":3,"sources":["../../../src/playground/app.js"],"names":["IndecisionApp","props","state","options","handlePick","bind","handleDeleteOptions","handleAddOption","handleRemoveOption","pick","Math","floor","random","length","console","log","json","localStorage","getItem","JSON","parse","setState","e","message","prevProps","prevState","stringify","setItem","optionToRemove","filter","option","newOption","indexOf","subtitle","React","Component","defaultProps","Header","title","Action","hasOptions","Options","map","i","Option","AddOption","error","undefined","preventDefault","target","elements","addOption","value","trim","ReactDOM","render","document","getElementById"],"mappings":"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","file":"app.js","sourcesContent":["class IndecisionApp extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            options: props.options\n        }\n        this.handlePick = this.handlePick.bind(this);\n        this.handleDeleteOptions = this.handleDeleteOptions.bind(this);\n        this.handleAddOption = this.handleAddOption.bind(this);\n        this.handleRemoveOption = this.handleRemoveOption.bind(this);\n    }\n\n    handlePick() {\n        let pick = Math.floor(Math.random() *\n                                this.state.options.length);\n        console.log(this.state.options[pick])\n    }\n\n    componentDidMount() {\n       try {\n           const json = localStorage.getItem('options');\n           const options = JSON.parse(json);\n           if (options) {\n               this.setState(() => ({ options }) );\n           }\n       }  catch(e) {\n           // Do nothing\n           console.log(e.message);\n       }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.options.length !== this.state.options.length){\n            const json = JSON.stringify(this.state.options);\n            localStorage.setItem('options', json);\n            console.log('saving data');\n        }\n    }\n\n    componentWillUnmount() {\n        console.log('componentWillUnmount');\n    }\n\n    handleDeleteOptions() {\n        this.setState(() => ({ options: [] }));\n    };\n\n    handleRemoveOption(optionToRemove) {\n        this.setState((prevState) => {\n            return {\n                options: prevState.options.filter(\n                    (option) =>  option !== optionToRemove\n                )\n\n            }\n        })\n    }\n\n    handleAddOption(newOption) {\n        if (!newOption){\n            return 'Enter valid value to add item';\n        } else if (this.state.options.indexOf(newOption) > -1){\n            return 'This item already exists';\n        }\n\n        this.setState( (prevState) => ({\n                options: [...prevState.options, newOption]\n        }));\n    };\n\n    render() {\n        const subtitle = \"Put your life in the hands of a computer\"\n\n        return (\n            <div>\n                <Header\n                    subtitle={subtitle}\n                />\n                <Action\n                    hasOptions={this.state.options.length > 0}\n                    handlePick={this.handlePick}\n                />\n                <Options\n                    options={this.state.options}\n                    handleDeleteOptions={this.handleDeleteOptions}\n                    handleRemoveOption={this.handleRemoveOption}\n                    hasOptions={this.state.options.length > 0}\n                />\n                <AddOption\n                    handleAddOption={this.handleAddOption}\n                />\n            </div>\n        )\n    }\n}\n\nIndecisionApp.defaultProps = {\n    options: []\n}\n\nconst Header = (props) => {\n    return (\n        <div>\n            <h1>{props.title}</h1>\n            {props.subtitle && <h2>{props.subtitle}</h2>}\n        </div>\n    );\n}\n\nHeader.defaultProps = {\n    title: 'Indecision'\n}\n\nconst Action = (props) => {\n    return (\n        <div>\n            <button\n                onClick={props.handlePick}\n                disabled={! props.hasOptions}\n            >\n                What should I do?\n            </button>\n        </div>\n    )\n};\n\nconst Options = (props) => {\n    return (\n        <div>\n            <button\n                onClick={props.handleDeleteOptions}\n                disabled={! props.hasOptions}\n            >\n                Remove All\n            </button>\n\n            {props.options.length === 0 &&\n                <p>Please add an option to get started!</p>}\n\n            {props.options.map((option,i) => {\n                return (\n                    <Option\n                        option={option}\n                        key={i}\n                        handleRemoveOption={props.handleRemoveOption}\n                    />\n                )\n            })}\n        </div>\n    );\n}\n\n\nconst Option = (props) => {\n    return (\n\n        <div>\n            {props.option}\n            <button\n                onClick={\n                    (e) => props.handleRemoveOption(props.option)\n                }\n            >\n                Remove\n            </button>\n        </div>\n    )\n}\n\n\nclass AddOption extends React.Component {\n    constructor(props){\n        super(props);\n        this.handleAddOption = this.handleAddOption.bind(this);\n        this.state = {\n            error: undefined\n        }\n    };\n\n    handleAddOption(e) {\n        //debugger;\n        e.preventDefault();\n        const newOption = e.target.elements.addOption.value.trim();\n        const error = this.props.handleAddOption(newOption);\n\n        this.setState(() => ({ error }));\n\n        if (!error) {\n            e.target.elements.addOption.value = '';\n        };\n\n    };\n\n\n    render() {\n        return (\n            <div>\n                {this.state.error && <p>{this.state.error}</p>}\n                <form onSubmit={this.handleAddOption}>\n                    <input type=\"text\"\n                           name=\"addOption\"\n                           placeholder=\"Enter option here\" ></input>\n                    <button type=\"submit\">Add Option</button>\n                </form>\n        </div>\n        );\n    }\n}\n\n\n\nReactDOM.render(<IndecisionApp/>,\n    document.getElementById('app'));"]}